# Техническое задание: Приложение "Простой калькулятор суммы" с сохранением в БД

## Задание

Разработать простое приложение на Python с графическим интерфейсом Tkinter, которое:

1. Принимает два числа A и B
2. Вычисляет их сумму
3. Сохраняет результат в базу данных PostgreSQL

## Необходимые инструменты

- Python 3.x
- Библиотека tkinter (встроена в Python)
- Библиотека psycopg2 (для работы с PostgreSQL)
- PostgreSQL (должен быть установлен на компьютере)

## Шаги выполнения

### 1. Подготовка базы данных

- Создайте базу данных с названием `calculator_db` в PostgreSQL
- Создайте таблицу `calculations` со следующими полями:
  - `id` (SERIAL PRIMARY KEY)
  - `number_a` (NUMERIC)
  - `number_b` (NUMERIC)
  - `sum_result` (NUMERIC)

Подсказка SQL-запроса:

```sql
CREATE TABLE IF NOT EXISTS calculations (
    id SERIAL PRIMARY KEY,
    number_a NUMERIC NOT NULL,
    number_b NUMERIC NOT NULL,
    sum_result NUMERIC NOT NULL
);
```

### 2. Создание интерфейса

Создайте окно с следующими элементами:

- Поле ввода для числа A с подписью
- Поле ввода для числа B с подписью
- Поле для отображения результата с подписью
- Кнопка "Рассчитать сумму"
- Кнопка "Сохранить в БД"

### 3. Основные функции

В программе необходимо реализовать:

1. **Функцию подключения к базе данных**:

```python
def connect_to_db():
    # Здесь нужно установить соединение с базой данных
    # Используйте psycopg2.connect() с правильными параметрами:
    # - dbname
    # - user
    # - password
    # - host
    # - port
    # Обработайте возможные ошибки подключения
    # Верните объект соединения
```

2. **Функцию создания таблицы**:

```python
def create_table():
    # Подключитесь к базе данных
    # Создайте таблицу, если она не существует
    # Используйте SQL-запрос CREATE TABLE IF NOT EXISTS
    # Не забудьте закоммитить изменения
```

3. **Функцию расчёта суммы**:

```python
def calculate_sum():
    # Получите значения из полей ввода
    # Преобразуйте строки в числа
    # Рассчитайте сумму
    # Обновите поле результата
    # Обработайте ошибки ввода
```

4. **Функцию сохранения в базу данных**:

```python
def save_to_db():
    # Проверьте, что расчёт выполнен
    # Подключитесь к базе данных
    # Выполните SQL-запрос INSERT
    # Закоммитьте изменения
    # Закройте соединение
    # Покажите сообщение об успешном сохранении
```

## Советы

1. Для обработки ошибок используйте try-except блоки
2. Проверяйте, что пользователь ввёл корректные числа
3. Используйте `messagebox` из Tkinter для вывода сообщений пользователю

## Критерии оценки

1. Программа запускается без ошибок
2. Интерфейс содержит все необходимые элементы
3. Расчёт суммы работает корректно
4. Данные успешно сохраняются в базу данных
5. Программа корректно обрабатывает ошибки

## Дополнительное задание (по желанию)

Добавьте возможность просмотра последних 5 сохранённых расчётов из базы данных.
